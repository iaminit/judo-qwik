import{u as d,l as m,C as r,q as s,i as g,_hW as h}from"./q-GWx3MS6J.js";import{a as f}from"./q-D-1uqPQX.js";import{_ as u}from"./q-DoNi8vyY.js";const b=()=>{const[e]=d();e.onOpenModal(e.technique)},p=Object.freeze(Object.defineProperty({__proto__:null,_hW:h,s_SLfn7JJqwxc:b},Symbol.toStringTag,{value:"Module"})),v=e=>{const[o]=d();if(!e)return;const t=e.startsWith("http")?e:f(`/media/audio/${e}`),n=new Audio(t);n.volume=1,n.onplay=()=>{o.value=!0},n.onended=()=>{o.value=!1},n.onerror=()=>{console.error("Audio playback failed"),o.value=!1},n.play().catch(a=>{console.error("Audio playback error:",a),o.value=!1})},x=Object.freeze(Object.defineProperty({__proto__:null,_hW:h,s_7cyPnSKo9Ro:v},Symbol.toStringTag,{value:"Module"})),y=e=>{const[o,t]=d();e.stopPropagation(),o(t.technique.audio_file)},k=Object.freeze(Object.defineProperty({__proto__:null,s_2mrXck8J408:y},Symbol.toStringTag,{value:"Module"})),w=e=>{var c;const o=m(!1),n=(l=>{const i=l.toLowerCase();return i.includes("ikkyo")?"bg-[#ffd700] text-gray-900":i.includes("nikyo")?"bg-[#ff8c00] text-white":i.includes("sankyo")?"bg-[#4ade80] text-white":i.includes("yonkyo")?"bg-[#3b82f6] text-white":i.includes("gokyo")?"bg-[#000000] text-white":i.includes("atemi")?"bg-red-700 text-white":"bg-[#2d2d2d] text-white"})(e.technique.gruppo),a=s(()=>u(()=>Promise.resolve().then(()=>x),void 0),"s_7cyPnSKo9Ro",[o]),_=s(()=>u(()=>Promise.resolve().then(()=>p),void 0),"s_SLfn7JJqwxc",[e]);return r("div",{class:`bg-white dark:bg-gray-900 rounded-3xl overflow-hidden shadow-xl border border-gray-100 dark:border-gray-800 hover:shadow-2xl hover:scale-[1.03] transition-all duration-500 cursor-pointer group flex flex-col ${e.isTarget?"animate-term-highlight ring-4 ring-red-500/20":""}`},{onClick$:_},[r("div",null,{class:"flex-1 aspect-square bg-white relative overflow-hidden flex items-center justify-center"},[r("img",{src:f(e.technique.image_url||((c=e.technique.image)!=null&&c.startsWith("media/")?"/"+e.technique.image:`/media/${e.technique.image}`))},{alt:g(l=>l.technique.nome,[e]),class:"w-full h-full object-contain p-4 group-hover:scale-110 transition-transform duration-700 mix-blend-multiply",onError$:s(()=>u(()=>Promise.resolve().then(()=>P),void 0),"s_kMmV3D2npHE",[e])},null,3,null),e.technique.has_audio&&e.technique.audio_file&&r("button",{class:`absolute top-4 left-4 p-2 rounded-xl transition-all shadow-lg backdrop-blur-md border ${o.value?"bg-red-600 text-white border-red-500":"bg-white/90 text-gray-700 border-white/20 hover:bg-red-600 hover:text-white"}`},{onClick$:s(()=>u(()=>Promise.resolve().then(()=>k),void 0),"s_2mrXck8J408",[a,e])},r("svg",null,{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},r("path",null,{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"},null,3,null),3,null),3,"00_0"),e.technique.video_youtube&&r("div",null,{class:"absolute top-4 right-4 bg-red-600 text-[8px] font-black text-white px-2 py-1 rounded-lg tracking-tighter shadow-lg opacity-80 group-hover:opacity-100 transition-opacity"},"YT",3,"00_1")],1,null),r("div",{class:`py-3 px-2 text-center transition-colors duration-500 ${n}`},null,r("h3",null,{class:"font-black text-[10px] md:text-xs uppercase tracking-tight leading-none truncate"},g(l=>l.technique.nome,[e]),3,null),3,null)],1,"00_2")},j=Object.freeze(Object.defineProperty({__proto__:null,s_UHg48jkeBFM:w},Symbol.toStringTag,{value:"Module"})),q=e=>{const[o]=d(),t=e.target,n="/media/kano_non_sa.webp",_=`/media/${o.technique.nome.toLowerCase().replace(/ /g,"-").replace(/'/g,"")}.webp`,c=t.src,l=parseInt(t.dataset.attempts||"0");l===0?(t.dataset.attempts="1",t.src=_):l===1?(t.dataset.attempts="2",c.indexOf("kano_non_sa.webp")===-1&&(t.src=n)):t.onerror=null},P=Object.freeze(Object.defineProperty({__proto__:null,s_kMmV3D2npHE:q},Symbol.toStringTag,{value:"Module"}));export{h as _hW,y as s_2mrXck8J408,v as s_7cyPnSKo9Ro,b as s_SLfn7JJqwxc,w as s_UHg48jkeBFM,q as s_kMmV3D2npHE,j as t};
