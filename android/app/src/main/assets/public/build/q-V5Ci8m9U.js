import{u as d,l as c,p,q as s,C as e,i as g,G as a,_hW as _}from"./q-GWx3MS6J.js";import{_ as i}from"./q-DoNi8vyY.js";const f=l=>{const[r]=d();return r.value=l.target.value},v=Object.freeze(Object.defineProperty({__proto__:null,s_8sOtCGs0olE:f},Symbol.toStringTag,{value:"Module"})),b=()=>{const[l,r]=d();return r.onSelect(l.name)},m=Object.freeze(Object.defineProperty({__proto__:null,s_JX8067JJDZ8:b},Symbol.toStringTag,{value:"Module"})),x=({track:l})=>{const[r,n]=d();l(()=>n.isOpen),n.isOpen&&r()},h=Object.freeze(Object.defineProperty({__proto__:null,_hW:_,s_XxHN5qFMur4:x},Symbol.toStringTag,{value:"Module"})),w=l=>{const r=c([]),n=c(!0),o=c("");p(s(()=>i(()=>Promise.resolve().then(()=>h),void 0),"s_XxHN5qFMur4",[s(()=>i(()=>Promise.resolve().then(()=>k),void 0),"s_11o4s06CXv8",[r,n]),l]));const u=r.value.filter(t=>t.name.toLowerCase().includes(o.value.toLowerCase()));return l.isOpen?e("div",null,{class:"fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-8"},[e("div",{onClick$:l.onClose},{class:"absolute inset-0 bg-slate-950/80 backdrop-blur-md animate-in fade-in duration-300"},null,2,null),e("div",null,{class:"relative w-full max-w-5xl bg-white dark:bg-slate-900 rounded-[2rem] shadow-2xl flex flex-col overflow-hidden max-h-[90vh] animate-in zoom-in duration-300"},[e("div",null,{class:"p-6 md:p-8 border-b border-gray-100 dark:border-white/5 flex items-center justify-between bg-gray-50/50 dark:bg-white/5"},[e("div",null,null,[e("h2",null,{class:"text-2xl font-black text-gray-900 dark:text-white uppercase tracking-tight"},"Sfoglia Media",3,null),e("p",null,{class:"text-[10px] font-black uppercase tracking-widest text-gray-400 mt-1"},"Seleziona un'immagine esistente da public/media",3,null)],3,null),e("button",{onClick$:l.onClose},{class:"w-10 h-10 flex items-center justify-center bg-gray-100 dark:bg-white/5 rounded-full hover:bg-red-500/10 hover:text-red-500 transition-all"},"âœ•",2,null)],1,null),e("div",null,{class:"p-4 md:p-6 border-b border-gray-100 dark:border-white/5"},e("input",null,{type:"text",placeholder:"Cerca file...",value:g(t=>t.value,[o]),class:"w-full px-6 py-3 rounded-xl bg-gray-50 dark:bg-white/5 border-none focus:ring-2 focus:ring-red-500/50 outline-none transition-all dark:text-white font-bold",onInput$:s(()=>i(()=>Promise.resolve().then(()=>v),void 0),"s_8sOtCGs0olE",[o])},null,3,null),3,null),e("div",null,{class:"flex-1 overflow-y-auto p-6 md:p-8 custom-scrollbar"},n.value?e("div",null,{class:"h-64 flex items-center justify-center"},e("div",null,{class:"animate-spin rounded-full h-8 w-8 border-4 border-red-600 border-t-transparent"},null,3,null),3,"Cv_0"):u.length===0?e("div",null,{class:"text-center py-20 grayscale opacity-40"},[e("div",null,{class:"text-6xl mb-4"},"ðŸ–¼ï¸",3,null),e("p",null,{class:"font-black uppercase tracking-widest text-gray-400"},"Nessun file trovato",3,null)],3,"Cv_1"):e("div",null,{class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},u.map(t=>e("div",{onClick$:s(()=>i(()=>Promise.resolve().then(()=>m),void 0),"s_JX8067JJDZ8",[t,l])},{class:"group relative aspect-square bg-gray-50 dark:bg-white/5 rounded-2xl overflow-hidden cursor-pointer hover:ring-4 hover:ring-red-500/30 transition-all border border-gray-100 dark:border-white/5"},[t.tag==="VIDEO"?e("div",null,{class:"w-full h-full flex items-center justify-center text-4xl"},"ðŸŽ¥",3,"Cv_2"):t.tag==="AUDIO"?e("div",null,{class:"w-full h-full flex items-center justify-center text-4xl text-red-500"},"ðŸ”Š",3,"Cv_3"):e("img",{src:a(t,"url"),alt:a(t,"name")},{class:"w-full h-full object-contain p-2 group-hover:scale-110 transition-transform duration-500",loading:"lazy"},null,3,null),e("div",null,{class:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-3 text-center"},[e("span",null,{class:"text-[7px] font-black text-red-500 uppercase tracking-widest mb-1"},a(t,"tag"),1,null),e("p",null,{class:"text-[9px] font-black text-white truncate uppercase tracking-widest"},a(t,"name"),1,null)],1,null)],0,t.name)),1,null),1,null),e("div",null,{class:"p-6 bg-gray-50 dark:bg-white/5 border-t border-gray-100 dark:border-white/5 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center"},[a(u,"length")," file disponibili"],1,null)],1,null)],1,"Cv_4"):null},j=Object.freeze(Object.defineProperty({__proto__:null,s_RTW6trq330c:w},Symbol.toStringTag,{value:"Module"})),y=async()=>{const[l,r]=d();r.value=!0;try{const n=await fetch("/api/media");if(n.ok){const o=await n.json();l.value=o}}catch(n){console.error("Error fetching media files:",n)}finally{r.value=!1}},k=Object.freeze(Object.defineProperty({__proto__:null,_hW:_,s_11o4s06CXv8:y},Symbol.toStringTag,{value:"Module"}));export{_ as _hW,j as m,y as s_11o4s06CXv8,f as s_8sOtCGs0olE,b as s_JX8067JJDZ8,w as s_RTW6trq330c,x as s_XxHN5qFMur4};
