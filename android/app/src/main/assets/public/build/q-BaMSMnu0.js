import{c as C,b as T,q as s,u as i,I as L,l as g,a as D,p as f,r as I,J as b,C as e,k as P,i as d,j as v,_hW as p}from"./q-GWx3MS6J.js";import{_ as r}from"./q-DoNi8vyY.js";import{K as V}from"./q-DZEaxapN.js";const R=C("app.context"),S=T(s(()=>r(()=>import("./q-B9Y-o8op.js").then(t=>t.b),[]),"s_KezZ6TqjkFw")),Q=T(s(()=>r(()=>import("./q-D_p07Uum.js").then(t=>t.b),[]),"s_uPINpyBTZag")),B=()=>{const[t,l]=i();return t.value.archivio.slice(0,l.value)},z=Object.freeze(Object.defineProperty({__proto__:null,s_Y1gR0BT9Qjc:B},Symbol.toStringTag,{value:"Module"})),F=()=>{const[t,l,o]=i();l.value="",t.value="all",o.value="all"},U=Object.freeze(Object.defineProperty({__proto__:null,s_PVqEC5F8tDo:F},Symbol.toStringTag,{value:"Module"})),q=t=>{const[l]=i();return l.value=t.target.value},N=Object.freeze(Object.defineProperty({__proto__:null,s_GTXkD2Ew9UU:q},Symbol.toStringTag,{value:"Module"})),w=V(L("s_pj8lOnByHe8")),Y=T(s(()=>r(()=>Promise.resolve().then(()=>K),void 0),"s_JSn9dHgQcEc")),H={title:"Bacheca & Archivio - JudoOK",meta:[{name:"description",content:"Consulta le ultime news e l'archivio storico del Dojo JudoOK."}]},Oe=Object.freeze(Object.defineProperty({__proto__:null,default:Y,head:H,useBachecaData:w},Symbol.toStringTag,{value:"Module"})),X=()=>{const t=w(),l=g(""),o=g("all"),a=g("all"),c=D(R);f(s(()=>r(()=>Promise.resolve().then(()=>ee),void 0),"s_09LL4C8KB4c",[c]));const u=I({isOpen:!1,selectedPost:null}),h=s(()=>r(()=>Promise.resolve().then(()=>$),void 0),"s_uA9yVYxXbFU",[u]),m=s(()=>r(()=>Promise.resolve().then(()=>de),void 0),"s_EOBq1cn0VcM",[u]),y=b(s(()=>r(()=>Promise.resolve().then(()=>ce),void 0),"s_jA2B5Uzv9bc",[t])),j=b(s(()=>r(()=>Promise.resolve().then(()=>le),void 0),"s_nkb6K3LIGoo",[t])),E=b(s(()=>r(()=>Promise.resolve().then(()=>ye),void 0),"s_jMGfrtQ7aPk",[o,t,l,a])),x=g(6),O=g();f(s(()=>r(()=>Promise.resolve().then(()=>xe),void 0),"s_QEPRNkYTbvQ",[o,l,x,a])),f(s(()=>r(()=>Promise.resolve().then(()=>Z),void 0),"s_AiU6n0MmTH4",[O,x]));const _=b(s(()=>r(()=>Promise.resolve().then(()=>se),void 0),"s_0DdhLgt1n68",[E])),k=b(s(()=>r(()=>Promise.resolve().then(()=>z),void 0),"s_Y1gR0BT9Qjc",[_,x])),A=s(()=>r(()=>Promise.resolve().then(()=>ue),void 0),"s_qDSMH8XjUro",[l]),M=s(()=>r(()=>Promise.resolve().then(()=>be),void 0),"s_5PZBhaHDDPI",[l]);return e("div",null,{class:"max-w-7xl mx-auto px-4 py-8 space-y-12"},[e("div",null,{class:"text-center space-y-4 mb-12"},[e("h1",null,{class:"text-4xl md:text-6xl font-black text-gray-900 dark:text-white uppercase tracking-tighter"},["Bacheca & ",e("span",null,{class:"text-red-600"},"Archivio",3,null)],3,null),e("p",null,{class:"text-gray-500 dark:text-gray-400 font-medium max-w-2xl mx-auto"},"Resta aggiornato sulle ultime novitÃ  del Dojo e consulta l'archivio storico delle nostre attivitÃ .",3,null)],3,null),e("div",null,{class:"bg-white dark:bg-gray-800 p-6 rounded-[2.5rem] border border-gray-100 dark:border-white/5 shadow-xl space-y-6"},[e("div",null,{class:"relative max-w-3xl mx-auto"},[e("input",null,{type:"text",placeholder:"Cerca negli avvisi...",value:d(n=>n.value,[l]),class:"w-full pl-12 pr-4 py-4 rounded-2xl bg-gray-50 dark:bg-white/5 border-2 border-transparent focus:border-red-500 outline-none transition-all text-lg",onInput$:s(()=>r(()=>Promise.resolve().then(()=>oe),void 0),"s_WwQPxkmTvqk",[A])},null,3,null),e("span",null,{class:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-xl"},"ðŸ”",3,null),l.value&&e("button",null,{class:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-red-500",onClick$:M},"âœ•",3,"rL_0")],1,null),e("div",null,{class:"flex flex-wrap items-center justify-center gap-4"},[e("div",null,{class:"flex items-center gap-2"},[e("span",null,{class:"text-xs font-black uppercase tracking-widest text-gray-400"},"AttivitÃ :",3,null),e("select",null,{value:d(n=>n.value,[o]),class:"bg-gray-50 dark:bg-white/5 border-none rounded-xl px-4 py-2 text-sm font-bold focus:ring-2 focus:ring-red-500 outline-none",onChange$:s(()=>r(()=>Promise.resolve().then(()=>N),void 0),"s_GTXkD2Ew9UU",[o])},[e("option",null,{value:"all"},"Tutte",3,null),y.value.filter(n=>n!=="all").map(n=>e("option",{value:n},null,n,1,n))],1,null)],1,null),e("div",null,{class:"flex items-center gap-2"},[e("span",null,{class:"text-xs font-black uppercase tracking-widest text-gray-400"},"Anno:",3,null),e("select",null,{value:d(n=>n.value,[a]),class:"bg-gray-50 dark:bg-white/5 border-none rounded-xl px-4 py-2 text-sm font-bold focus:ring-2 focus:ring-red-500 outline-none",onChange$:s(()=>r(()=>Promise.resolve().then(()=>pe),void 0),"s_TyMeQ6XAbMw",[a])},[e("option",null,{value:"all"},"Tutti",3,null),j.value.filter(n=>n!=="all").map(n=>e("option",{value:n},null,n,1,n))],1,null)],1,null)],1,null)],1,null),e("div",null,{class:"space-y-20"},[_.value.actualNews.length>0&&e("section",null,{class:"space-y-8"},[e("div",null,{class:"flex items-center gap-4"},[e("span",null,{class:"text-3xl"},"ðŸ“Œ",3,null),e("h2",null,{class:"text-3xl font-black text-gray-900 dark:text-white uppercase tracking-tighter"},["Notizie ",e("span",null,{class:"text-red-600"},"Attuali",3,null)],3,null),e("div",null,{class:"h-1 flex-1 bg-gradient-to-r from-red-600/20 to-transparent rounded-full"},null,3,null),e("span",null,{class:"text-sm font-black text-gray-400 uppercase tracking-widest"},[d(n=>n.value.actualNews.length,[_])," Post"],3,null)],3,null),e("div",null,{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},_.value.actualNews.map(n=>P(S,{post:n,onClick:h,viewMode:"grid",[v]:{onClick:v,viewMode:v}},3,n.id)),1,null)],1,"rL_1"),_.value.archivio.length>0&&e("section",null,{class:"space-y-8"},[e("div",null,{class:"flex items-center gap-4"},[e("span",null,{class:"text-3xl"},"ðŸ“œ",3,null),e("h2",null,{class:"text-3xl font-black text-gray-900 dark:text-white uppercase tracking-tighter"},["Archivio ",e("span",null,{class:"text-gray-400"},"Storico",3,null)],3,null),e("div",null,{class:"h-1 flex-1 bg-gradient-to-r from-gray-400/20 to-transparent rounded-full"},null,3,null),e("span",null,{class:"text-sm font-black text-gray-400 uppercase tracking-widest"},["Mostrati ",d(n=>n.value.length,[k])," di ",d(n=>n.value.archivio.length,[_])],3,null)],3,null),e("div",null,{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 grayscale brightness-95 hover:grayscale-0 transition-all duration-700"},k.value.map(n=>P(S,{post:n,onClick:h,viewMode:"grid",[v]:{onClick:v,viewMode:v}},3,n.id)),1,null),x.value<_.value.archivio.length&&e("div",{ref:O},{class:"flex justify-center py-12"},e("div",null,{class:"animate-bounce text-gray-300"},[e("svg",null,{class:"w-8 h-8 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e("path",null,{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"},null,3,null),3,null),e("p",null,{class:"text-[10px] font-black uppercase tracking-widest mt-2"},"Scorri per caricare altro",3,null)],3,null),3,"rL_2")],1,"rL_3"),(l.value||o.value!=="all"||a.value!=="all")&&_.value.actualNews.length===0&&_.value.archivio.length===0&&e("div",null,{class:"text-center py-32 bg-white dark:bg-gray-800 rounded-[3rem] shadow-xl border border-gray-100 dark:border-white/5 animate-in fade-in zoom-in duration-500"},[e("span",null,{class:"text-8xl block mb-6 animate-bounce"},"ðŸ”",3,null),e("h2",null,{class:"text-2xl font-black text-gray-900 dark:text-white uppercase tracking-tighter"},"Nessun Risultato Trovato",3,null),e("p",null,{class:"text-gray-500 dark:text-gray-400 mt-2 font-medium italic"},[d(n=>n.value&&`Nessuna corrispondenza per "${n.value}". `,[l]),"Prova a modificare i filtri o resettare la ricerca."],3,null),e("button",null,{class:"mt-8 px-10 py-4 bg-red-600 text-white font-black rounded-2xl shadow-xl shadow-red-500/30 hover:scale-105 active:scale-95 transition-all uppercase tracking-widest text-xs",onClick$:s(()=>r(()=>Promise.resolve().then(()=>U),void 0),"s_PVqEC5F8tDo",[o,l,a])},"Reset Tutti i Filtri",3,null)],3,"rL_4")],1,null),P(Q,{get post(){return u.selectedPost},get isOpen(){return u.isOpen},onClose:m,[v]:{post:d(n=>n.selectedPost,[u]),isOpen:d(n=>n.isOpen,[u]),onClose:v}},3,"rL_5")],1,"rL_6")},K=Object.freeze(Object.defineProperty({__proto__:null,s_JSn9dHgQcEc:X},Symbol.toStringTag,{value:"Module"})),G=t=>{const[l]=i();l.selectedPost=t,l.isOpen=!0},$=Object.freeze(Object.defineProperty({__proto__:null,_hW:p,s_uA9yVYxXbFU:G},Symbol.toStringTag,{value:"Module"})),J=({track:t,cleanup:l})=>{const[o,a]=i();if(t(()=>o.value),!o.value)return;const c=new IntersectionObserver(u=>{u[0].isIntersecting&&a.value<sections.value.archivio.length&&(a.value+=6)},{threshold:.1});c.observe(o.value),l(()=>c.disconnect())},Z=Object.freeze(Object.defineProperty({__proto__:null,_hW:p,s_AiU6n0MmTH4:J},Symbol.toStringTag,{value:"Module"})),W=()=>{const[t]=i();t.sectionTitle="Bacheca & Archivio",t.sectionIcon="ðŸ“Œ"},ee=Object.freeze(Object.defineProperty({__proto__:null,_hW:p,s_09LL4C8KB4c:W},Symbol.toStringTag,{value:"Module"})),te=()=>{const[t]=i(),l=new Set(t.value.posts.map(o=>{const a=new Date(o.date);return isNaN(a.getTime())?null:a.getFullYear().toString()}).filter(o=>!!o));return["all",...Array.from(l).sort((o,a)=>a.localeCompare(o))]},le=Object.freeze(Object.defineProperty({__proto__:null,s_nkb6K3LIGoo:te},Symbol.toStringTag,{value:"Module"})),ne=t=>{const[l]=i();return l(t.target.value)},oe=Object.freeze(Object.defineProperty({__proto__:null,s_WwQPxkmTvqk:ne},Symbol.toStringTag,{value:"Module"})),ae=()=>{const[t]=i(),l=new Date,o=[],a=[];return t.value.forEach(c=>{c.expiration_date&&new Date(c.expiration_date)<l?a.push(c):o.push(c)}),{actualNews:o,archivio:a}},se=Object.freeze(Object.defineProperty({__proto__:null,s_0DdhLgt1n68:ae},Symbol.toStringTag,{value:"Module"})),re=()=>{const[t]=i(),l=new Set(t.value.posts.map(o=>o.activity).filter(o=>!!o));return["all",...Array.from(l)]},ce=Object.freeze(Object.defineProperty({__proto__:null,s_jA2B5Uzv9bc:re},Symbol.toStringTag,{value:"Module"})),ie=t=>{const[l]=i();l.value=t},ue=Object.freeze(Object.defineProperty({__proto__:null,_hW:p,s_qDSMH8XjUro:ie},Symbol.toStringTag,{value:"Module"})),_e=()=>{const[t]=i();t.isOpen=!1,setTimeout(()=>{t.selectedPost=null},300)},de=Object.freeze(Object.defineProperty({__proto__:null,_hW:p,s_EOBq1cn0VcM:_e},Symbol.toStringTag,{value:"Module"})),ve=t=>{const[l]=i();return l.value=t.target.value},pe=Object.freeze(Object.defineProperty({__proto__:null,s_TyMeQ6XAbMw:ve},Symbol.toStringTag,{value:"Module"})),ge=()=>{const[t]=i();t.value=""},be=Object.freeze(Object.defineProperty({__proto__:null,_hW:p,s_5PZBhaHDDPI:ge},Symbol.toStringTag,{value:"Module"})),he=({track:t})=>{const[l,o,a,c]=i();t(()=>o.value),t(()=>l.value),t(()=>c.value),a.value=6},xe=Object.freeze(Object.defineProperty({__proto__:null,_hW:p,s_QEPRNkYTbvQ:he},Symbol.toStringTag,{value:"Module"})),me=()=>{const[t,l,o,a]=i();return l.value.posts.filter(c=>{const u=o.value===""||c.title.toLowerCase().includes(o.value.toLowerCase())||c.content.toLowerCase().includes(o.value.toLowerCase()),h=t.value==="all"||c.activity===t.value,m=new Date(c.date).getFullYear().toString(),y=a.value==="all"||m===a.value;return u&&h&&y})},ye=Object.freeze(Object.defineProperty({__proto__:null,s_jMGfrtQ7aPk:me},Symbol.toStringTag,{value:"Module"}));export{R as A,S as B,p as _hW,Q as a,Oe as i,W as s_09LL4C8KB4c,ae as s_0DdhLgt1n68,ge as s_5PZBhaHDDPI,J as s_AiU6n0MmTH4,_e as s_EOBq1cn0VcM,q as s_GTXkD2Ew9UU,X as s_JSn9dHgQcEc,F as s_PVqEC5F8tDo,he as s_QEPRNkYTbvQ,ve as s_TyMeQ6XAbMw,ne as s_WwQPxkmTvqk,B as s_Y1gR0BT9Qjc,re as s_jA2B5Uzv9bc,me as s_jMGfrtQ7aPk,te as s_nkb6K3LIGoo,ie as s_qDSMH8XjUro,G as s_uA9yVYxXbFU};
